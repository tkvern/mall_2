<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<title></title>
		<link rel="stylesheet" href="../css/mui.min.css" />
		<link rel="stylesheet" href="../css/bootstrap.min.css" />
		<link rel="stylesheet" href="../css/bootstrap-theme.min.css" />
		<link rel="stylesheet" href="../css/font-awesome.min.css" />
		<link rel="stylesheet" href="../css/style.css" />
		<script>
			function imgLoaded(img) {
        var imgWrapper = img.parentNode;
        imgWrapper.className += imgWrapper.className? ' loaded' : 'loaded';
      }
		</script>
	</head>

	<body>
		<header class="mui-bar mui-navbar">
			<h1 class="mui-title">走街串巷</h1>
		</header>
		<div class="mui-content mui-scroll-wrapper scontent" id="refreshContainer">
		  <div class="mui-scroll">
        <div class="container" id="plist">
          <div class="row">
            
          </div>
        </div>
      </div>
		</div>
		<script src="../js/mui.min.js"></script>
		<script src="../js/app.ajax.extend.js"></script>
		<script src="../js/app.js"></script>
		<script src="../js/templates/common.template.js"></script>
		<script src="../js/templates/shop.template.js"></script>
		<script src="../js/page.js"></script>
		<script src="../js/plus/walk.js"></script>
		<script>
//		  mui.init({
//      pullRefresh: {
//        container: '#refreshContainer',
//        down: {
//          callback: pulldownRefresh
//        },
//        up: {
//          contentrefresh: '正在加载...',
//          callback: pullupRefresh
//        }
//      }
//    });
//    /**
//     * 下拉刷新具体业务实现
//     */
//    function pulldownRefresh() {
//      setTimeout(function() {
//        var table = document.body.querySelector('.mui-table-view');
//        var cells = document.body.querySelectorAll('.mui-table-view-cell');
//        for (var i = cells.length, len = i + 3; i < len; i++) {
//          var li = document.createElement('li');
//          li.className = 'mui-table-view-cell';
//          li.innerHTML = '<a class="mui-navigate-right">Item ' + (i + 1) + '</a>';
//          //下拉刷新，新纪录插到最前面；
//          table.insertBefore(li, table.firstChild);
//        }
//        mui('#pullrefresh').pullRefresh().endPulldownToRefresh(); //refresh completed
//      }, 1500);
//    }
//    var count = 0;
//    /**
//     * 上拉加载具体业务实现
//     */
//    function pullupRefresh() {
//      setTimeout(function() {
//        mui('#pullrefresh').pullRefresh().endPullupToRefresh((++count > 2)); //参数为true代表没有更多数据了。
//        var table = document.body.querySelector('.mui-table-view');
//        var cells = document.body.querySelectorAll('.mui-table-view-cell');
//        for (var i = cells.length, len = i + 20; i < len; i++) {
//          var li = document.createElement('li');
//          li.className = 'mui-table-view-cell';
//          li.innerHTML = '<a class="mui-navigate-right">Item ' + (i + 1) + '</a>';
//          table.appendChild(li);
//        }
//      }, 1500);
//    }
//    if (mui.os.plus) {
//      mui.plusReady(function() {
//        setTimeout(function() {
//          mui('#pullrefresh').pullRefresh().pullupLoading();
//        }, 1000);
//
//      });
//    } else {
//      mui.ready(function() {
//        mui('#pullrefresh').pullRefresh().pullupLoading();
//      });
//    }
		  new window.app.WalkPage({
        'dataKey': 'shops',
        'pullRefreshContainerId': '#refreshContainer',
        'itemsContainerId': '#plist',
        'pullUp': true,
        'pullDown': true
      }).start()
		</script>
	</body>

</html>